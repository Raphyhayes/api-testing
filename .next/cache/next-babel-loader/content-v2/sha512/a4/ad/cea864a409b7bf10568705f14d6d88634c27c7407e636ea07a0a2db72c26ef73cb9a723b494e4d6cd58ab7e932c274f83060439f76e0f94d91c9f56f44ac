{"ast":null,"code":"import fetch from \"node-fetch\";\nexport default function handler(req, res) {\n  console.log(req);\n  console.log(\"this got called\");\n  fetch(`https://api.spacexdata.com/v4/launches/${req.endpoint.json()}`).then(response => response.json()).then(data => {\n    console.log(data);\n    res.status(200).json(data.map(entry => {\n      return {\n        name: entry.name,\n        rocket: entry.rocket,\n        static_fire_date: entry.static_fire_date_utc,\n        launch_date: entry.date_utc,\n        details: entry.details,\n        webcast: entry.links.webcast\n      };\n    }));\n    {}\n  }).catch(error => console.log(error));\n}","map":{"version":3,"sources":["/Users/Raphy/code/api-testing.mjs/pages/api/upcoming-launch-fetcher.js"],"names":["fetch","handler","req","res","console","log","endpoint","json","then","response","data","status","map","entry","name","rocket","static_fire_date","static_fire_date_utc","launch_date","date_utc","details","webcast","links","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACA,eAAe,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAL,EAAAA,KAAK,CAAE,0CAAyCE,GAAG,CAACI,QAAJ,CAAaC,IAAb,EAAoB,EAA/D,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACF,IAAT,EADtB,EAEGC,IAFH,CAESE,IAAD,IAAU;AACdN,IAAAA,OAAO,CAACC,GAAR,CAAYK,IAAZ;AACAP,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CACEG,IAAI,CAACE,GAAL,CAAUC,KAAD,IAAW;AAClB,aAAO;AACLC,QAAAA,IAAI,EAAED,KAAK,CAACC,IADP;AAELC,QAAAA,MAAM,EAAEF,KAAK,CAACE,MAFT;AAGLC,QAAAA,gBAAgB,EAAEH,KAAK,CAACI,oBAHnB;AAILC,QAAAA,WAAW,EAAEL,KAAK,CAACM,QAJd;AAKLC,QAAAA,OAAO,EAAEP,KAAK,CAACO,OALV;AAMLC,QAAAA,OAAO,EAAER,KAAK,CAACS,KAAN,CAAYD;AANhB,OAAP;AAQD,KATD,CADF;AAYA,KACC;AACF,GAlBH,EAmBGE,KAnBH,CAmBUC,KAAD,IAAWpB,OAAO,CAACC,GAAR,CAAYmB,KAAZ,CAnBpB;AAoBD","sourcesContent":["import fetch from \"node-fetch\";\nexport default function handler(req, res) {\n  console.log(req);\n  console.log(\"this got called\");\n  fetch(`https://api.spacexdata.com/v4/launches/${req.endpoint.json()}`)\n    .then((response) => response.json())\n    .then((data) => {\n      console.log(data);\n      res.status(200).json(\n        data.map((entry) => {\n          return {\n            name: entry.name,\n            rocket: entry.rocket,\n            static_fire_date: entry.static_fire_date_utc,\n            launch_date: entry.date_utc,\n            details: entry.details,\n            webcast: entry.links.webcast,\n          };\n        })\n      );\n      {\n      }\n    })\n    .catch((error) => console.log(error));\n}\n"]},"metadata":{},"sourceType":"module"}